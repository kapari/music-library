(this["webpackJsonpmusic-library"]=this["webpackJsonpmusic-library"]||[]).push([[0],{36:function(n,e,t){},45:function(n,e,t){"use strict";t.r(e);var r=t(1),o=t(0),a=t.n(o),c=t(12),i=t.n(c),s=(t(36),t(3)),d=t(7),l=t(4),u=t(23),b=t(24),j=t(28),f=t(26),p=function(n){Object(j.a)(t,n);var e=Object(f.a)(t);function t(){var n;Object(u.a)(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))).state={error:null},n}return Object(b.a)(t,[{key:"componentDidCatch",value:function(n,e){console.error(n,e)}},{key:"render",value:function(){return this.state.error?Object(r.jsx)("p",{children:"Something went wrong on our end. Check the console or refresh the page."}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(n){return{error:n}}}]),t}(o.Component),h=t(5),O=t(10),x="#fff",g="#000",v="#c64a01",m="#777",y="#444",k=function(n){return Object(O.a)(n,x)?x:g},w={contentBg:Object(O.b)(.2,g),contentBorder:m,headingText:k(g),cardBg:y,cardText:k(y),primary:v,primaryText:k(v),iconBtnHover:y};function I(){var n=Object(l.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  background-color: ",";\n  padding: 20px 50px;\n  color: ",";\n"]);return I=function(){return n},n}var S=h.a.header(I(),w.contentBorder,w.contentBg,w.headingText);var D=function(){return Object(r.jsxs)(S,{children:[Object(r.jsx)("h1",{children:"Music Library"}),Object(r.jsx)("nav",{})]})},A=t(27),B=t(11),C=t(13);function L(){var n=Object(l.a)(["\n  transition: background-color 0.25s ease-in-out;\n  max-width: 100%;\n  min-height: 150px;\n  overflow: hidden;\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0;\n  padding-top: 10px;\n  padding-left: 10px;\n  padding-bottom: 0;\n  list-style-type: none;\n  background-color: ",";\n"]);return L=function(){return n},n}var T=h.a.ul(L(),(function(n){return n.isDraggingOver?Object(O.b)("0.7",w.primary):"transparent"}));var P=function(n){var e=n.id,t=n.direction,o=n.children;return Object(r.jsx)(C.c,{droppableId:e,direction:t||"vertical",children:function(n,e){return Object(r.jsxs)(T,Object(s.a)(Object(s.a)({ref:n.innerRef},n.droppableProps),{},{isDraggingOver:e.isDraggingOver,children:[o,n.placeholder]}))}})};function z(){var n=Object(l.a)(["\n  margin: 0;\n"]);return z=function(){return n},n}function E(){var n=Object(l.a)(["\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 20px;\n  line-height: 1;\n"]);return E=function(){return n},n}function M(){var n=Object(l.a)(["\n  padding: 15px 10px;\n  border-bottom: 1px solid ",";\n"]);return M=function(){return n},n}function H(){var n=Object(l.a)(["\n  margin-bottom: 10px;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  padding-bottom: 10px;\n  color: ",";\n"]);return H=function(){return n},n}var N=h.a.div(H(),w.contentBorder,w.contentBg,w.headingText),F=h.a.header(M(),w.contentBorder),U=h.a.h2(E()),W=h.a.p(z());var J=function(n){var e=n.albumsLoadedCount,t=n.totalAlbumCount,o=n.albumElts;return Object(r.jsxs)(N,{children:[Object(r.jsxs)(F,{children:[Object(r.jsx)(U,{children:"Unshelved Music"}),Object(r.jsxs)(W,{children:["Loaded ",e," of ",t," albums"]})]}),Object(r.jsx)(P,{id:"unshelved",direction:"vertical",children:o})]})},R=t(9),_=t(8);function G(){var n=Object(l.a)(["\n  transition: background-color 0.25s ease-in-out;\n  border: none;\n  border-radius: 5px;\n  background-color: transparent;\n  padding: 0 20px;\n  color: inherit;\n  cursor: pointer;\n  &:hover,\n  &:active,\n  &:focus {\n    background-color: ",";\n  }\n"]);return G=function(){return n},n}function Y(){var n=Object(l.a)(["\n  transition: border-bottom 0.25s ease-in-out;\n  height: 40px;\n  border-top: none;\n  border-left: none;\n  border-right: none;\n  border-bottom: 1px solid transparent;\n  background-color: transparent;\n  font-size: 20px;\n  color: ",";\n  &:hover,\n  &:active,\n  &:focus {\n    outline: none;\n    border-bottom: 1px solid ",";\n  }\n"]);return Y=function(){return n},n}function q(){var n=Object(l.a)([""]);return q=function(){return n},n}function K(){var n=Object(l.a)([""]);return K=function(){return n},n}function Q(){var n=Object(l.a)(["\n  display: flex;\n  justify-content: space-between;\n  border-bottom: 1px solid ",";\n  padding: 10px;\n"]);return Q=function(){return n},n}function V(){var n=Object(l.a)(["\n  margin-bottom: 10px;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n"]);return V=function(){return n},n}var X=h.a.li(V(),w.contentBorder,w.contentBg),Z=h.a.header(Q(),w.contentBorder),$=h.a.h2(K()),nn=h.a.div(q()),en=h.a.input(Y(),w.headingText,w.headingText),tn=h.a.button(G(),w.iconBtnHover);var rn=function(n){var e=n.id,t=n.onDeleteShelf,a=n.albumElts,c=Object(o.useState)("My New Shelf"),i=Object(d.a)(c,2),s=i[0],l=i[1];return Object(r.jsxs)(X,{children:[Object(r.jsxs)(Z,{children:[Object(r.jsxs)("label",{children:[Object(r.jsx)($,{className:"sr-only",children:s}),Object(r.jsx)(en,{type:"text",value:s,onChange:function(n){l(n.target.value)}})]}),Object(r.jsxs)(tn,{type:"button",onClick:function(){return t(e)},children:[Object(r.jsx)(R.a,{icon:_.g}),Object(r.jsx)("span",{className:"sr-only",children:"Delete Shelf"})]})]}),Object(r.jsx)(nn,{children:Object(r.jsx)(P,{id:e,direction:"horizontal",children:a})})]},e)};function on(){var n=Object(l.a)(["\n  display: inline;\n  &:nth-of-type(n + 2) {\n    &:before {\n      content: ', '\n    }\n  }\n"]);return on=function(){return n},n}function an(){var n=Object(l.a)(["\n  display: inline;\n  margin-left: 0;\n  margin-bottom: 0.25em;\n  padding: 0;\n  list-style-type: none;\n"]);return an=function(){return n},n}function cn(){var n=Object(l.a)(["\n  display: inline-block;\n  margin-top: 0;\n  margin-bottom: 0.25em;\n  margin-right: 0.5em;\n"]);return cn=function(){return n},n}function sn(){var n=Object(l.a)(["\n  justify-self: flex-end;\n  margin: 0;\n  padding-left: 5px;\n"]);return sn=function(){return n},n}function dn(){var n=Object(l.a)(["\n  display: inline-block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 0.5em;\n"]);return dn=function(){return n},n}function ln(){var n=Object(l.a)(["\n  flex: 1 1 auto;\n  display: flex;\n  max-width: 100%;\n  overflow: hidden;\n  margin-top: 0;\n  margin-bottom: 0.5em;\n  line-height: 1.2;\n  .fa-music {\n    transform: translateY(2px);\n  }\n"]);return ln=function(){return n},n}function un(){var n=Object(l.a)(["\n  display: flex;\n  align-items: flex-start;\n"]);return un=function(){return n},n}function bn(){var n=Object(l.a)(["\n  transition: box-shadow 0.25s ease-in-out;\n  position: relative;\n  overflow: hidden;\n  margin-right: 10px;\n  margin-bottom: 10px;\n  max-width: 100%;\n  width: 250px;\n  border-radius: 5px;\n  background-color: ",";\n  color: ",";\n  padding: 15px;\n  box-shadow: ",";\n\n  ","\n\n  &::before {\n    content: '';\n    transition: background-color 0.25s ease-in-out;\n    position: absolute;\n    left: 0;\n    top: 0;\n    bottom: 0;\n    width: 5px;\n    background-color: ",";\n  }\n\n  &:hover,\n  &:active,\n  &:focus {\n    &::before {\n      background-color: ",";\n    }\n  }\n"]);return bn=function(){return n},n}var jn=h.a.li(bn(),w.cardBg,w.cardText,(function(n){return n.isDragging?"0 5px 10px ".concat(Object(O.b)(.5,"black")):"0 5px 10px transparent"}),(function(n){return n.isHorizontal?{display:"inline-block",verticalAlign:"top"}:null}),(function(n){return n.isDragging?w.primary:"transparent"}),w.primary),fn=h.a.div(un()),pn=h.a.h3(ln()),hn=h.a.span(dn()),On=h.a.p(sn()),xn=h.a.h4(cn()),gn=h.a.ul(an()),vn=h.a.li(on());var mn=function(n){var e=n.info,t=n.index,o=n.isHorizontal,a=e.artists.map((function(n){return Object(r.jsx)(vn,{children:n.name})})),c=e.formats.map((function(n){return Object(r.jsx)(vn,{children:n.name})})),i=e.labels.map((function(n){return Object(r.jsx)(vn,{children:n.name})}));return Object(r.jsx)(C.b,{draggableId:e.id.toString(),index:t,children:function(n,t){return Object(r.jsxs)(jn,Object(s.a)(Object(s.a)(Object(s.a)({ref:n.innerRef},n.draggableProps),n.dragHandleProps),{},{isHorizontal:o,isDragging:t.isDragging,children:[Object(r.jsxs)(fn,{as:"header",children:[Object(r.jsxs)(pn,{children:[Object(r.jsx)(R.a,{icon:_.d}),Object(r.jsx)(hn,{children:e.title})]}),Object(r.jsx)(On,{children:e.year?e.year:"Unknown"})]}),Object(r.jsxs)(fn,{children:[Object(r.jsxs)(xn,{children:[Object(r.jsx)(R.a,{icon:_.c,fixedWidth:!0}),Object(r.jsx)("span",{className:"sr-only",children:"Artists"})]}),Object(r.jsx)(gn,{children:a})]}),Object(r.jsxs)(fn,{children:[Object(r.jsxs)(xn,{children:[Object(r.jsx)(R.a,{icon:_.f,fixedWidth:!0}),Object(r.jsx)("span",{className:"sr-only",children:"Labels"})]}),Object(r.jsx)(gn,{children:i})]}),Object(r.jsxs)(fn,{children:[Object(r.jsxs)(xn,{children:[Object(r.jsx)(R.a,{icon:_.a,fixedWidth:!0}),Object(r.jsx)("span",{className:"sr-only",children:"Formats"})]}),Object(r.jsx)(gn,{children:c})]})]}),e.id)}},e.id)},yn=t(29);function kn(){var n=Object(l.a)(["\n  transition: all 0.25s ease-in-out;\n  border: 1px solid ",";\n  border-radius: 5px;\n  background-color: ",";\n  padding: 10px 20px;\n  font-family: inherit;\n  font-size: 16px;\n  font-weight: 700;\n  color: ",";\n  cursor: pointer;\n  &:hover,\n  &:active,\n  &:focus {\n    background-color: ",";\n    color: ",";\n  }\n\n  .svg-inline--fa {\n    margin-right: 5px;\n  }\n"]);return kn=function(){return n},n}var wn=h.a.button(kn(),w.primaryText,w.primary,w.primaryText,w.primaryText,w.primary);var In=function(n){var e=n.faIcon,t=n.text,o=Object(yn.a)(n,["faIcon","text"]);return Object(r.jsxs)(wn,Object(s.a)(Object(s.a)({type:"button"},o),{},{children:[Object(r.jsx)(R.a,{icon:e,role:"presentation","aria-hidden":"true"}),Object(r.jsx)("span",{children:t})]}))};function Sn(){var n=Object(l.a)(["\n  max-width: 100%;\n  margin: 0;\n  padding: 0;\n  list-style-type: none;\n"]);return Sn=function(){return n},n}function Dn(){var n=Object(l.a)(["\n  width: calc(100% - 310px);\n  flex: 0 1 auto;\n  &:first-of-type {\n    flex: 0 1 310px;\n    padding-right: 30px;\n  }\n"]);return Dn=function(){return n},n}var An=h.a.section(Dn()),Bn=h.a.ul(Sn());var Cn=function(n){var e=n.allData,t=n.newPageData,a=n.onLoadPage,c=n.hasLoadedAllPages,i=n.totalAlbumCount,l=Object(o.useState)({unshelved:{key:"unshelved",name:"Unshelved Music",orderedIds:[]},shelf1:{key:"shelf1",name:"My New Shelf",orderedIds:[]}}),u=Object(d.a)(l,2),b=u[0],j=u[1],f=Object(o.useState)(2),p=Object(d.a)(f,2),h=p[0],O=p[1];Object(o.useEffect)((function(){var n=Object.keys(t).map((function(n){return n}));j((function(e){var t=e.unshelved.orderedIds.concat(n);return Object(s.a)(Object(s.a)({},e),{},{unshelved:Object(s.a)(Object(s.a)({},e.unshelved),{},{orderedIds:t})})}))}),[t]);var x=function(n){window.confirm("Any albums on this shelf will be returned to the Unshelved column. Do you still want to delete this shelf?")&&j((function(e){var t=b[n].orderedIds,r=Object(s.a)({},e);delete r[n];var o=Object(A.a)(r.unshelved.orderedIds),a=t.concat(o);return Object(s.a)(Object(s.a)({},r),{},{unshelved:Object(s.a)(Object(s.a)({},r.unshelved),{},{orderedIds:a})})}))},g=function(n){var t=n.columnId,o=n.isHorizontal,a=void 0!==o&&o;return b[t].orderedIds.map((function(n,t){return Object(r.jsx)(mn,{index:t,info:e[n],horizontal:a},n)}))};return Object(r.jsxs)(C.a,{onDragEnd:function(n){var e=n.draggableId,t=n.source,r=n.destination,o=t.droppableId,a=t.index,c=null===r||void 0===r?void 0:r.droppableId,i=null===r||void 0===r?void 0:r.index;if(r&&(o!==c||t.index!==r.index)){var d=Array.from(b[o].orderedIds);if(d.splice(a,1),o===c)d.splice(i,0,e),j(Object(s.a)(Object(s.a)({},b),{},Object(B.a)({},o,Object(s.a)(Object(s.a)({},b[o]),{},{orderedIds:d}))));else{var l,u=Array.from(b[c].orderedIds);u.splice(i,0,e),j(Object(s.a)(Object(s.a)({},b),{},(l={},Object(B.a)(l,o,Object(s.a)(Object(s.a)({},b[o]),{},{orderedIds:d})),Object(B.a)(l,c,Object(s.a)(Object(s.a)({},b[c]),{},{orderedIds:u})),l)))}}},children:[Object(r.jsxs)(An,{children:[Object(r.jsx)(J,{albumsLoadedCount:Object.keys(e).length,totalAlbumCount:i,albumElts:g({columnId:"unshelved"})}),Object(r.jsx)(In,{faIcon:_.b,text:"Load More Albums",onClick:a,disabled:c})]}),Object(r.jsxs)(An,{children:[1===Object.keys(b).length?Object(r.jsx)("p",{children:"Please add a shelf"}):Object(r.jsx)(Bn,{children:Object.keys(b).map((function(n){return"unshelved"!==n?Object(r.jsx)(rn,{id:n,onDeleteShelf:x,albumElts:g({columnId:n,isHorizontal:!0})},n):null}))}),Object(r.jsx)(In,{faIcon:_.e,text:"Add a Shelf",onClick:function(n){var e="shelf".concat(h);j((function(n){return Object(s.a)(Object(s.a)({},n),{},Object(B.a)({},e,{key:e,name:"My New Shelf",orderedIds:[]}))})),O((function(n){return n+1}))}})]})]})};function Ln(){var n=Object(l.a)(["\n  position: relative;\n  display: flex;\n  padding: 50px;\n"]);return Ln=function(){return n},n}function Tn(){var n=Object(l.a)(["\n  min-height: 100vh;\n  background-color: #333;\n  color: white;\n  &:before {\n    content: '';\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: \n      linear-gradient(to top, black, transparent), \n      url('https://loremflickr.com/g/1920/1200/music,record/all');\n    background-size: cover;\n    background-repeat: no-repeat;\n  }\n"]);return Tn=function(){return n},n}var Pn=h.a.div(Tn()),zn=h.a.main(Ln());var En=function(){var n=Object(o.useState)(null),e=Object(d.a)(n,2),t=(e[0],e[1]),a=Object(o.useState)(!1),c=Object(d.a)(a,2),i=c[0],l=c[1],u=Object(o.useState)(1),b=Object(d.a)(u,2),j=b[0],f=b[1],h=Object(o.useState)(0),O=Object(d.a)(h,2),x=O[0],g=O[1],v=Object(o.useState)(0),m=Object(d.a)(v,2),y=m[0],k=m[1],w=Object(o.useState)({}),I=Object(d.a)(w,2),S=I[0],A=I[1],B=Object(o.useState)({}),C=Object(d.a)(B,2),L=C[0],T=C[1];return Object(o.useEffect)((function(){t(!1),fetch("https://api.discogs.com/users/blacklight/collection/folders/0/releases?page=".concat(j,"&per_page=20"),{method:"GET",headers:{"User-Agent":"MusicLibraryDemoApp/1.0"}}).then((function(n){return n.json()})).then((function(n){var e,t,r=function(n){var e={};return n.forEach((function(n){e[n.id]=n.basic_information})),e}(n.releases);g(null===(e=n.pagination)||void 0===e?void 0:e.pages),k(null===(t=n.pagination)||void 0===t?void 0:t.items),A(r),T((function(n){return Object(s.a)(Object(s.a)({},n),r)})),l(!0)})).catch((function(n){t(!0),console.log("Something went wrong: ".concat(n))}))}),[j]),Object(r.jsxs)(Pn,{children:[Object(r.jsx)(D,{}),Object(r.jsxs)(zn,{children:[!i&&Object(r.jsx)("div",{children:Object(r.jsx)("p",{children:"Loading..."})}),i&&Object(r.jsx)(p,{children:Object(r.jsx)(Cn,{allData:L,newPageData:S,hasLoadedAllPages:j===x,onLoadPage:function(){return f((function(n){return n+1}))},totalAlbumCount:y})})]})]})},Mn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,46)).then((function(e){var t=e.getCLS,r=e.getFID,o=e.getFCP,a=e.getLCP,c=e.getTTFB;t(n),r(n),o(n),a(n),c(n)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(En,{})}),document.getElementById("root")),Mn()}},[[45,1,2]]]);
//# sourceMappingURL=main.182591cf.chunk.js.map